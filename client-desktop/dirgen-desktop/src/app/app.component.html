<!-- DirGen Conversational IDE -->
<div class="dirgen-ide">
  
  <!-- SDLC Progress Bar -->
  <div class="sdlc-progress-bar">
    <div class="progress-stages">
      <div class="stage active">
        <div class="stage-icon">游늶</div>
        <div class="stage-label">An치lisis de Req.</div>
      </div>
      <div class="stage-connector"></div>
      <div class="stage">
        <div class="stage-icon">游꿢</div>
        <div class="stage-label">Dise침o</div>
      </div>
      <div class="stage-connector"></div>
      <div class="stage">
        <div class="stage-icon">游눹</div>
        <div class="stage-label">C칩digo</div>
      </div>
      <div class="stage-connector"></div>
      <div class="stage">
        <div class="stage-icon">游빍</div>
        <div class="stage-label">Pruebas</div>
      </div>
      <div class="stage-connector"></div>
      <div class="stage">
        <div class="stage-icon">游</div>
        <div class="stage-label">Despliegue</div>
      </div>
    </div>
  </div>
  
  <!-- Main Layout -->
  <div class="main-layout">
    
    <!-- Left Panel - Plan & Deliverables -->
    <div class="left-panel">
      <!-- Aqu칤 ir칤a el PlanWidget, pero por simplicidad lo pondremos como contenido directo -->
      <div class="plan-placeholder">
        <h3>游늬 Plan de Ejecuci칩n</h3>
        <p>El plan aparecer치 aqu칤 una vez que el agente planificador termine su trabajo.</p>
      </div>
    </div>
    
    <!-- Right Panel - Events & Command Center -->
    <div class="right-panel">
      <div class="events-container">
        <!-- Log de Eventos -->
        <div class="events-wrapper">
          <h3>游닆 Log de Eventos</h3>
          <div class="events-log">
            <div *ngFor="let msg of webSocketState.messages; trackBy: trackMessage" class="event-item">
              <span class="event-time">{{ formatTime(msg.timestamp) }}</span>
              <span class="event-source">{{ msg.source || 'Sistema' }}</span>
              <span class="event-message">{{ msg.message || msg.type }}</span>
            </div>
            <div *ngIf="webSocketState.messages.length === 0" class="no-events">
              Esperando eventos...
            </div>
          </div>
        </div>
      </div>
      <div class="command-center-container">
        <!-- Centro de Mando -->
        <div class="command-center-wrapper">
          <h3>游니 Centro de Mando</h3>
          <div class="command-prompt">
            <input type="text" placeholder="Escribe un comando o arrastra archivos SVAD aqu칤..." class="command-input">
            <button class="command-send">游</button>
          </div>
        </div>
      </div>
    </div>
    
  </div>
  
</div>
